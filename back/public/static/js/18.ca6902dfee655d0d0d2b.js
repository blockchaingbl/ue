webpackJsonp([18],{"4j1/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("BBk/");var r=a("BKQO"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:e.page_name}},[a("x-header",{staticClass:"inter_wallet_header",attrs:{"left-options":{showBack:!0,backText:""}}},[e._v(e._s(e.page_title))]),e._v(" "),a("tab",{model:{value:e.tab_index,callback:function(t){e.tab_index=t},expression:"tab_index"}},[a("tab-item",[e._v("助记词")]),e._v(" "),a("tab-item",[e._v("官方钱包")]),e._v(" "),a("tab-item",[e._v("私钥")])],1),e._v(" "),a("box",{directives:[{name:"show",rawName:"v-show",value:0==e.tab_index,expression:"tab_index==0"}]},[a("group",[a("x-textarea",{ref:"seed",attrs:{placeholder:"助记词，按空格分隔","show-counter":!1},model:{value:e.seed,callback:function(t){e.seed=t},expression:"seed"}}),e._v(" "),a("x-input",{ref:"seed_index",attrs:{title:"助记词格式 m/44'/60'/0'/0/","label-width":"10.6rem",placeholder:"0",type:"number"},model:{value:e.seed_index,callback:function(t){e.seed_index=t},expression:"seed_index"}})],1)],1),e._v(" "),a("box",{directives:[{name:"show",rawName:"v-show",value:1==e.tab_index,expression:"tab_index==1"}]},[a("group",[a("x-textarea",{ref:"keystore",attrs:{placeholder:"keystore 文本内容","show-counter":!1},model:{value:e.keystore,callback:function(t){e.keystore=t},expression:"keystore"}}),e._v(" "),a("x-input",{ref:"keystore_password",attrs:{placeholder:"keystore 密码",type:"password",min:4,max:16,required:!0},model:{value:e.keystore_password,callback:function(t){e.keystore_password=t},expression:"keystore_password"}})],1)],1),e._v(" "),a("box",{directives:[{name:"show",rawName:"v-show",value:2==e.tab_index,expression:"tab_index==2"}]},[a("group",[a("x-textarea",{ref:"private_key",attrs:{placeholder:"明文私钥","show-counter":!1,required:!0},model:{value:e.private_key,callback:function(t){e.private_key=t},expression:"private_key"}})],1)],1),e._v(" "),a("group",{attrs:{title:"钱包名称"}},[a("x-input",{ref:"name",attrs:{placeholder:"用于标识您的钱包",min:4,max:16,required:!0},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("group",{attrs:{title:"请输入密码"}},[a("x-input",{ref:"password",attrs:{placeholder:"钱包密码",type:"password",min:4,max:16,required:!0},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("x-input",{ref:"confirm_password",attrs:{placeholder:"再次输入钱包密码",type:"password",min:4,max:16,"equal-with":e.password,required:!0},model:{value:e.confirm_password,callback:function(t){e.confirm_password=t},expression:"confirm_password"}})],1),e._v(" "),a("box",{attrs:{gap:"20px 10px"}},[a("x-button",{staticStyle:{"border-radius":"99px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.importWallet(t)}}},[e._v("立即导入")])],1),e._v(" "),a("box",{staticStyle:{"text-align":"center"},attrs:{gap:"20px 10px"}},[a("router-link",{attrs:{to:"/wallet_international/create"}},[e._v("创建钱包")])],1)],1)},staticRenderFns:[]};var o=function(e){a("9yw/")},n=a("C7Lr")(r.a,s,!1,o,"data-v-340a8cd4",null);t.default=n.exports},"7ojw":function(e,t,a){var r={"./views/wallet_international/import":"4j1/"};function s(e){return a(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id="7ojw"},"9yw/":function(e,t){},"BBk/":function(e,t,a){"use strict";(function(e){var t=a("1a94"),r=a("CHv/"),s=a("eT+W"),o=a("CltZ"),n=(a("ULxt"),a("SPhl")),i=a("sNOJ"),d=a("t8gK"),c=a("ocpe"),l=(a("VduZ"),a("YaEn"),a("5s1k"));a.n(l),a("sbZO"),a("sd/l"),t.a,r.a,s.a,o.a,n.a,i.a,d.a,c.a}).call(t,a("L7Pj"))},BKQO:function(e,t,a){"use strict";(function(e){var r=a("1a94"),s=a("CHv/"),o=a("eT+W"),n=a("CltZ"),i=a("ULxt"),d=a("SPhl"),c=a("sNOJ"),l=a("t8gK"),p=a("ocpe"),u=(a("VduZ"),a("YaEn")),f=a("5s1k"),_=(a.n(f),a("sbZO")),v=a("sd/l");t.a={components:{"x-header":r.a,"x-input":s.a,"x-button":o.a,box:n.a,tab:d.a,"tab-item":c.a,"x-textarea":l.a,loading:p.a},data:function(){return{page_title:u.a.currentRoute.meta.title,page_name:u.a.currentRoute.name,name:"",password:"",confirm_password:"",seed:"",seed_index:0,keystore:"",keystore_password:"",private_key:"",tab_index:0}},mounted:function(){},methods:{importWallet:function(){var t=!0;switch(this.$refs.name.validate(),this.$refs.password.validate(),this.$refs.confirm_password.validate(),this.$refs.name.valid&&this.$refs.password.valid&&this.$refs.confirm_password.valid||(this.$refs.name.forceShowError=!0,this.$refs.password.forceShowError=!0,this.$refs.confirm_password.forceShowError=!0,t=!1),this.tab_index){case 0:this.$refs.seed_index.validate(),this.$refs.seed_index.valid||(this.$refs.seed_index.forceShowError=!0,t=!1),""==e.trim(this.seed)&&(t=!1,i.a.show({title:"提示",content:"助记词不能为空",onShow:function(){},onHide:function(){}}));break;case 1:this.$refs.keystore_password.validate(),this.$refs.keystore_password.valid||(this.$refs.keystore_password.forceShowError=!0,t=!1),""==e.trim(this.keystore)&&(t=!1,i.a.show({title:"提示",content:"keystore 不能为空",onShow:function(){},onHide:function(){}}));break;case 2:""==e.trim(this.private_key)&&(i.a.show({title:"提示",content:"私钥不能为空",onShow:function(){},onHide:function(){}}),t=!1)}if(t){var a=this.$loading({text:"正在导入"}),r=this;setTimeout(function(){try{var t;switch(r.tab_index){case 0:t=_.a.wallet.createBySeed(e.trim(r.seed),"",r.seed_index);break;case 1:t=_.a.wallet.createByKeystore(e.trim(r.keystore),r.keystore_password);break;case 2:t=_.a.wallet.createByPrivate(e.trim(r.private_key))}var s={};s.name=r.name,s.address=t.address,s.enc_privateKey=v.a.encrypt(t.privatekey,r.password),r.$store.commit("addWallet",s),r.$store.commit("loadProperties"),r.$http.post("/api/app.wallet/wallets/bind",{name:s.name,address:s.address,enc_privatekey:s.enc_privateKey}).then(function(e){e.error>0?r.$vux.toast.text(e.message):i.a.show({title:"提示",content:"钱包导入成功",onShow:function(){},onHide:function(){u.a.replace("/wallet_international")}})}).catch(function(e){e.errcode&&r.$vux.toast.text(e.message)})}catch(e){i.a.show({title:"提示",content:"导入失败，请核查您导入的资料",onShow:function(){},onHide:function(){}})}a.close()},500)}}}}}).call(t,a("L7Pj"))}});