webpackJsonp([31],{Gi73:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("1a94"),r=a("jH8X"),o=a("Gh3H"),i=(o.a,Boolean,String,{name:"check-icon",components:{Icon:o.a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}}),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-check-icon",on:{click:e.updateValue}},[a("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===e.type&&e.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===e.type&&e.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.value,expression:"!value"}],attrs:{type:"circle"}}),e._v(" "),a("span",[e._t("default")],2)],1)},staticRenderFns:[]};var c=a("C7Lr")(i,n,!1,function(e){a("yZPg")},null,null).exports,l=a("CHv/"),d=a("eT+W"),u=a("CltZ"),v=(a("ULxt"),a("5zIW")),p=a("t8gK"),f=a("YaEn"),m=(a("5s1k"),a("sbZO")),h=a("sd/l"),_=(r.a,s.a,l.a,d.a,u.a,v.a,p.a,{directives:{TransferDom:r.a},components:{"x-header":s.a,"x-input":l.a,"x-button":d.a,box:u.a,popup:v.a,"x-textarea":p.a,CheckIcon:c},data:function(){return{demo1:!0,page_title:f.a.currentRoute.meta.title,page_name:f.a.currentRoute.name,name:"default",password:"",confirm_password:"",seedShow:!1,ysShow:!1,seed:""}},mounted:function(){},methods:{onCopy:function(e){this.$vux.toast.text("复制成功")},onError:function(e){this.$vux.toast.text("复制失败，您可以尝试手动记录")},seedSave:function(){f.a.replace({path:"/user/wallet"})},readYs:function(){this.ysShow=!0},agreeYs:function(){this.ysShow=!1},createWallet:function(){if(this.$refs.password.validate(),this.$refs.confirm_password.validate(),this.$refs.password.valid&&this.$refs.confirm_password.valid){var e=this.$loading({text:"创建中"}),t=this;setTimeout(function(){t.seed=m.a.wallet.createSeed();var a=m.a.wallet.createBySeed(t.seed,"",0),s={};s.name=t.name,s.address=a.address,s.enc_privateKey=h.a.encrypt(a.privatekey,t.password),t.$store.commit("addWallet",s),t.seedShow=!0,t.$http.post("/api/app.wallet/wallet/bind",{address:s.address,privatekey:s.enc_privateKey,security:t.password}).then(function(e){t.$vux.toast.text(e.message)}).catch(function(e){e.errcode&&t.$vux.toast.text(e.message)}),e.close()},500)}else this.$refs.password.forceShowError=!0,this.$refs.confirm_password.forceShowError=!0,this.confirm_password||(this.$refs.confirm_password.errors.equal="输入不一致",this.$refs.confirm_password.getError())}}}),w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"walletcreate"},[a("div",{staticClass:"create-box"},[e._m(0),e._v(" "),a("div",{staticClass:"item-box"},[a("group",{staticClass:"item"},[a("x-input",{ref:"password",attrs:{placeholder:"请输入钱包密码",type:"password",min:4,max:16,required:!0},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("group",{staticClass:"item"},[a("x-input",{ref:"confirm_password",attrs:{placeholder:"请再次输入钱包密码",type:"password",min:4,max:16,"equal-with":e.password,required:!0},model:{value:e.confirm_password,callback:function(t){e.confirm_password=t},expression:"confirm_password"}})],1),e._v(" "),a("group",{staticClass:"item flex-box check-box"},[a("check-icon",{attrs:{value:e.demo1},on:{"update:value":function(t){e.demo1=t}}}),e._v(" "),a("div",[e._v("我已经仔细阅读并同意")]),e._v(" "),a("span",{staticClass:"ystk",nativeOn:{click:function(t){return e.readYs(t)}}},[e._v("《服务及隐私条款》")])],1)],1),e._v(" "),a("div",{staticClass:"create-btn-box"},[a("box",{attrs:{gap:"15px 15px"}},[a("x-button",{staticClass:"found-btn",staticStyle:{"border-radius":"99px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.createWallet(t)}}},[e._v("立即创建")]),e._v(" "),a("router-link",{staticClass:"import-btn",attrs:{to:"/user/wallet/import"}},[e._v(" 导入钱包")])],1)],1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],staticClass:"savezjbox"},[a("popup",{attrs:{height:"100%"},model:{value:e.seedShow,callback:function(t){e.seedShow=t},expression:"seedShow"}},[a("div",{staticClass:"tip"},[a("div",{staticClass:"save_seed_title"},[e._v("钱包创建成功,请备份助记词")]),e._v(" "),a("ul",[a("li",[e._v("请抄写下您的钱包助记词")]),e._v(" "),a("li",[e._v("助记词用于恢复钱包或者重置密码")]),e._v(" "),a("li",[e._v("钱包不保存助记词信息，一旦丢失，您将无法再找回")])])]),e._v(" "),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.seed,expression:"seed",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.seed,expression:"seed"}],attrs:{type:"hidden"},domProps:{value:e.seed},on:{input:function(t){t.target.composing||(e.seed=t.target.value)}}}),e._v(" "),a("div",{staticClass:"seedShow"},[e._v("\r\n                "+e._s(e.seed)+"\r\n            ")]),e._v(" "),a("p",[e._v("点击复制助记词")])]),e._v(" "),a("box",{staticClass:"seedSave"},[a("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.seedSave(t)}}},[e._v("已保存好")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],staticClass:"savezjbox"},[a("popup",{attrs:{height:"100%"},model:{value:e.ysShow,callback:function(t){e.ysShow=t},expression:"ysShow"}},[a("x-header",{staticClass:"tip_title",attrs:{"left-options":{showBack:!1}}},[e._v("免责声明")]),e._v(" "),a("div",[a("ul",[a("li",[e._v("请抄写下您的钱包助记词")])])]),e._v(" "),a("box",{staticClass:"seedSave"},[a("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.agreeYs(t)}}},[e._v("我已阅读并同意")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"create-top"},[t("div",{staticClass:"create-top-text"},[this._v("密码用于保护私钥和流通授权，强度非常重要")]),this._v(" "),t("div",{staticClass:"create-top-text"},[this._v("钱包不存储密码，也无法帮您找回，请务必牢记")])])}]};var x=a("C7Lr")(_,w,!1,function(e){a("fBBH")},null,null);t.default=x.exports},fBBH:function(e,t){},qUEk:function(e,t,a){var s={"./views/user/walletcreate":"Gi73"};function r(e){return a(o(e))}function o(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(s)},r.resolve=o,e.exports=r,r.id="qUEk"},yZPg:function(e,t){}});