webpackJsonp([14],{"2vJh":function(t,e){},E1ne:function(t,e,a){var n={"./views/user/setbank":"v42z"};function i(t){return a(r(t))}function r(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id="E1ne"},Kt5j:function(t,e){},"Nw+U":function(t,e,a){"use strict";var n=a("hRKE"),i=a.n(n),r=a("qZvt"),l=a.n(r),s=a("G63U"),o=a("GCtz"),u=(s.a,o.a,String,String,Array,String,String,Boolean,String,Number,Object,Boolean,Array,{name:"selector",mixins:[s.a],created:function(){void 0!==this.value&&(this.currentValue=this.value)},beforeMount:function(){this.isIOS=/iPad|iPhone|iPod/.test(window.navigator.userAgent)},computed:{fixIos:function(){return!this.placeholder&&this.isEmptyValue(this.value)&&this.isIOS&&this.title},color:function(){return this.showPlaceholder?"#A9A9A9":""},processOptions:function(){var t=this;if(!this.options.length)return[];var e="object"===i()(this.options[0]);return e&&!this.valueMap?this.options:e&&this.valueMap?this.options.map(function(e){return{key:e[t.valueMap[0]],value:e[t.valueMap[1]]}}):this.options.map(function(t){return{key:t,value:t}})},showPlaceholder:function(){return!(!this.isEmptyValue(this.value)||!this.placeholder)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{isEmptyValue:function(t){return void 0===t||""===t||null===t},cleanStyle:o.a,getFullValue:function(){var t=this;return this.value&&this.options.length?"object"!==i()(this.options[0])?this.value:this.valueMap?this.options.filter(function(e){return e[t.valueMap[0]]===t.value}):this.options.filter(function(e){return e.key===t.value}):null}},filters:{findByKey:function(t,e){var a=l()(e,function(e){return e.key===t});return a?a.value:t}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t),this.$emit("on-change",t)}},props:{title:String,direction:String,options:{type:Array,required:!0},name:String,placeholder:String,readonly:Boolean,value:[String,Number,Object,Boolean],valueMap:{type:Array,validator:function(t){return!(!t.length||2!==t.length)}}},data:function(){return{currentValue:"",isIOS:!1}}}),c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vux-selector weui-cell",class:{"weui-cell_select":!t.readonly,"weui-cell_select-after":t.title}},[t.title?a("div",{staticClass:"weui-cell__hd"},[a("label",{staticClass:"weui-label",class:t.labelClass,style:t.cleanStyle({width:t.$parent.labelWidth,textAlign:t.$parent.labelAlign,marginRight:t.$parent.labelMarginRight}),attrs:{for:"vux-selector-"+t.uuid},domProps:{innerHTML:t._s(t.title)}})]):t._e(),t._v(" "),t.readonly?a("div",{staticClass:"weui-cell__ft vux-selector-readonly"},[t._v("\n    "+t._s(t._f("findByKey")(t.value,t.processOptions))+"\n  ")]):a("div",{staticClass:"weui-cell__bd"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-select",style:t.cleanStyle({direction:t.direction,color:t.color}),attrs:{id:"vux-selector-"+t.uuid,name:t.name},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currentValue=e.target.multiple?a:a[0]}}},[t.showPlaceholder?a("option",{domProps:{value:null===t.value?"null":"",selected:t.isEmptyValue(t.value)&&!!t.placeholder}},[t._v(t._s(t.placeholder))]):t._e(),t._v(" "),t.fixIos?a("option",{attrs:{disabled:""}}):t._e(),t._v(" "),t._l(t.processOptions,function(e){return a("option",{domProps:{value:e.key}},[t._v(t._s(e.value))])})],2)])])},staticRenderFns:[]};var p=a("C7Lr")(u,c,!1,function(t){a("Kt5j")},null,null);e.a=p.exports},v42z:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("KDzu"),i=a("Nw+U"),r=a("dZLx"),l=(n.a,i.a,{components:{Qrcode:n.a,Selector:i.a},data:function(){return{hasWallet:0,list:[{key:"建设银行",value:"建设银行"},{key:"工商银行",value:"工商银行"},{key:"海峡银行",value:"海峡银行"},{key:"农业银行",value:"农业银行"},{key:"交通银行",value:"交通银行"},{key:"中国银行",value:"中国银行"},{key:"中信银行",value:"中信银行"},{key:"光大银行",value:"光大银行"},{key:"华夏银行",value:"华夏银行"},{key:"民生银行",value:"民生银行"},{key:"广发银行",value:"广发银行"},{key:"平安银行",value:"平安银行"},{key:"招商银行",value:"招商银行"},{key:"兴业银行",value:"兴业银行"},{key:"浦发银行",value:"浦发银行"},{key:"恒丰银行",value:"恒丰银行"},{key:"邮政储蓄银行",value:"邮政储蓄银行"},{key:"其它",value:"其它"}],payment_receipt:"",payment_org:"",payment_account:"",security:"",branch_bank:""}},mounted:function(){this.getPaymentInfo()},methods:{getPaymentInfo:function(){var t=this;this.$http.post("/api/app.payment/payment/bindinfo",{payment_key:"bankcard"}).then(function(e){e.data.bind_info.bankcard&&(t.payment_receipt=e.data.bind_info.bankcard.payment_receipt,t.payment_account=e.data.bind_info.bankcard.payment_account,t.payment_org=e.data.bind_info.bankcard.payment_org,t.branch_bank=e.data.bind_info.bankcard.branch_bank)}).catch(function(e){e.errcode&&t.$vux.toast.text(e.message)})},bindPayment:function(){var t=this;""!=this.payment_receipt?""!=this.payment_org?""!=this.payment_account?""!=this.security?this.$http.post("/api/app.payment/payment/bind",{payment_key:"bankcard",payment_receipt:this.payment_receipt,payment_org:this.payment_org,payment_account:this.payment_account,security:Object(r.a)(this.security),branch_bank:this.branch_bank}).then(function(e){"0"==e.errcode&&(t.$vux.toast.show({text:"绑定成功"}),t.$router.push({path:"/user/setpay"}))}).catch(function(e){e.errcode&&t.$vux.toast.text(e.message)}):this.$vux.toast.text("请输入资产密码"):this.$vux.toast.text("请填写银行卡号"):this.$vux.toast.text("请选择开户银行"):this.$vux.toast.text("请填写姓名")}}}),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setbank"},[a("div",{staticClass:"setbank-box"},[a("div",{staticClass:"setbank-top"},[t._v("注：请设置您的转入支付方式，请务必使用本人实名账号")]),t._v(" "),a("group",{staticClass:"bank-item no-line"},[a("x-input",{attrs:{title:"姓名","text-align":"right",max:10},model:{value:t.payment_receipt,callback:function(e){t.payment_receipt=e},expression:"payment_receipt"}})],1),t._v(" "),a("div",{staticClass:"block"},[a("group",{staticClass:"bank-item"},[a("selector",{ref:"defaultValueRef",attrs:{title:"开户银行",direction:"rtl",options:t.list},model:{value:t.payment_org,callback:function(e){t.payment_org=e},expression:"payment_org"}})],1)],1),t._v(" "),a("div",{staticClass:"block"},[a("group",{staticClass:"bank-item"},[a("x-input",{attrs:{title:"开户支行","text-align":"right",placeholder:"请输入您的开户支行",max:25},model:{value:t.branch_bank,callback:function(e){t.branch_bank=e},expression:"branch_bank"}})],1)],1),t._v(" "),a("div",{staticClass:"block"},[a("group",{staticClass:"bank-item"},[a("x-input",{attrs:{title:"银行卡号","text-align":"right",placeholder:"请输入您的银行卡号",max:25},model:{value:t.payment_account,callback:function(e){t.payment_account=e},expression:"payment_account"}})],1)],1),t._v(" "),a("div",{staticClass:"block"},[a("group",{staticClass:"bank-item no-line"},[a("x-input",{attrs:{type:"password",title:"资产密码","text-align":"right",placeholder:"请输入您的资产密码"},model:{value:t.security,callback:function(e){t.security=e},expression:"security"}})],1)],1),t._v(" "),a("div",{staticClass:"reset-btn-box"},[a("box",{attrs:{gap:"30px 35px"}},[a("x-button",{staticClass:"found-btn",staticStyle:{"border-radius":"99px"},attrs:{type:"primary"},nativeOn:{click:function(e){t.bindPayment()}}},[t._v("保存")])],1)],1)],1)])},staticRenderFns:[]};var o=a("C7Lr")(l,s,!1,function(t){a("2vJh")},null,null);e.default=o.exports}});