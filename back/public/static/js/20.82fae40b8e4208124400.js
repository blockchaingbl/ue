webpackJsonp([20],{"5Rxc":function(t,i,a){var s={"./views/user/withdraw":"z4wH"};function e(t){return a(n(t))}function n(t){var i=s[t];if(!(i+1))throw new Error("Cannot find module '"+t+"'.");return i}e.keys=function(){return Object.keys(s)},e.resolve=n,t.exports=e,e.id="5Rxc"},CFpN:function(t,i,a){"use strict";(function(t){var s=a("Kw0a");i.a={components:{PopupPicker:s.a},data:function(){return{hasLogin:0,coin_uint:"",min_withdraw:0,withdraw_rate:0,withdraw_money:"0.00",withdraw_result:"",limit_rate:0,vc_total:0,vc_normal:0,title1:"上链地址",address:[{name:"",value:""}],value1:[],coin_type:null,click_lock:!1}},computed:{ServiceCharge:function(){return this.withdraw_money.length<=0?0:((1e11*parseFloat(this.withdraw_money)-1e11*parseFloat(this.real_withdraw))/1e11).toFixed(8)||0},real_withdraw:function(){return this.withdraw_money.length<=0?0:(parseFloat(this.withdraw_money)*(1-parseFloat(this.withdraw_rate))*1e9/1e9).toFixed(8)||0}},mounted:function(){if(this.getWallets(),this.$store.state.coin_info&&0!=this.$store.state.coin_info.coin_type.id){var t=this.$store.state.coin_info.coin_type;this.coin_uint=t.coin_unit,this.withdraw_rate=t.withdraw_rate,this.min_withdraw=t.min_withdraw,this.withdraw_money=this.min_withdraw,this.vc_total=this.$store.state.coin_info.vc_total,this.coin_type=t.id}else this.coin_uint=this.$store.state.init.coin_uint,this.withdraw_rate=this.$store.state.init.withdraw_rate,this.min_withdraw=this.$store.state.init.min_withdraw,this.withdraw_money=this.min_withdraw,this.coin_type=0,this.limit_rate=(100*this.$store.state.init.withdraw_limit_rate).toFixed(2),this.getUserinfo()},methods:{open_pup:function(){var i=this;if(this.click_lock)return!1;this.click_lock=!0;var a=this,s={amount:this.withdraw_money,coin_type:this.coin_type,address:this.value1[0]};this.$http.post("/api/app.wallet/wallet/withdraw",s).then(function(s){a.withdraw_result=s.message,i.$store.dispatch("refreshCoinType"),t(".pupBox").addClass("isopen")}).catch(function(t){i.click_lock=!1,t.errcode&&a.$vux.toast.text(t.message)})},colse_pup:function(){t(".pupBox").removeClass("isopen"),this.$router.push({path:"/user/withdrawlist"})},getUserinfo:function(){var t=this;this.$http.post("/api/app.user/account/info",{}).then(function(i){t.vc_total=i.data.account_info.vc_normal,t.vc_normal=i.data.account_info.vc_normal}).catch(function(i){i.errcode&&t.$vux.toast.text(i.message)})},getWallets:function(){var i=this;this.$http.post("/api/app.wallet/wallets",{}).then(function(a){var s=a.data.wallets,e=[];for(var n in t(".input-box").find("input").focus(),s)e.push({name:s[n].name,value:s[n].address,parent:0});i.address=[e],i.value1=[e[0].value]}).catch(function(t){t.errcode&&i.$vux.toast.text(t.message)})}}}}).call(i,a("L7Pj"))},M7Ky:function(t,i){},yagD:function(t,i,a){"use strict";(function(t){a("Kw0a").a}).call(i,a("L7Pj"))},z4wH:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});a("yagD");var s=a("CFpN"),e={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"withdraw-box"},[a("div",{staticClass:"head flex-box"},[a("div",{staticClass:"head-text flex-1"},[t._v("可上链"+t._s(this.coin_uint)+"："),a("span",[t._v(t._s(t.vc_total))])])]),t._v(" "),a("div",{staticClass:"withdraw"},[a("div",{staticClass:"title"},[t._v("申请提取")]),t._v(" "),a("div",{staticClass:"input-box flex-box vux-1px-b"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.withdraw_money,expression:"withdraw_money"}],staticClass:"flex-1",attrs:{type:"text",min:t.min_withdraw},domProps:{value:t.withdraw_money},on:{input:function(i){i.target.composing||(t.withdraw_money=i.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.coin_uint))])]),t._v(" "),a("div",{staticClass:"item-block"},[a("div",{staticClass:"item flex-box"},[a("div",{staticClass:"item-title flex-1"},[t._v("预计所需手续费："+t._s(t.ServiceCharge)+" "+t._s(t.coin_uint))]),t._v(" "),a("div",{staticClass:"item-decs"},[t._v("最低提取"+t._s(t.min_withdraw)+t._s(t.coin_uint))])]),t._v(" "),a("div",{staticClass:"item flex-box"},[a("div",{staticClass:"item-title flex-1"},[t._v("预计到账数额："+t._s(t.real_withdraw)+" "+t._s(t.coin_uint))]),t._v(" "),0==t.coin_type?a("div",{staticClass:"item-decs"},[t._v("注：上链前先收购"+t._s(t.limit_rate)+"%")]):t._e()])]),t._v(" "),a("div",{staticClass:"select-box"},[a("group",{attrs:{"label-width":"5em"}},[a("popup-picker",{attrs:{title:t.title1,data:t.address,"show-name":"",columns:1},model:{value:t.value1,callback:function(i){t.value1=i},expression:"value1"}})],1)],1)]),t._v(" "),0==t.hasLogin?a("div",{staticClass:"hasLogin"},[a("box",{attrs:{gap:"40px 35px"}},[a("x-button",{staticClass:"withdraw-btn",staticStyle:{"border-radius":"99px"},attrs:{type:"primary"},nativeOn:{click:function(i){t.open_pup()}}},[t._v("申请上链 次日到账")])],1)],1):t._e(),t._v(" "),1==t.hasLogin?a("div",{staticClass:"noLogin"},[a("box",{attrs:{gap:"40px 35px 10px"}},[a("x-button",{staticClass:"withdraw-btn",staticStyle:{"border-radius":"99px"},attrs:{type:"primary"}},[t._v("申请上链 当天到账")])],1),t._v(" "),a("div",{staticClass:"tis"},[t._v("\r\n            您还没有登录钱包，"),a("router-link",{attrs:{to:"/login"}},[t._v("去登陆")])],1)],1):t._e(),t._v(" "),a("div",{staticClass:"pupBox"},[a("div",{staticClass:"pupBox-content"},[a("div",{staticClass:"title"},[t._v("申请上链成功")]),t._v(" "),a("span",{staticClass:"vux-close",on:{click:function(i){t.colse_pup()}}}),t._v(" "),a("div",{staticClass:"pup-block"},[a("div",{staticClass:"item"},[t._v("提取数额："),a("span",[t._v(t._s(t.withdraw_money))])]),t._v(" "),a("div",{staticClass:"item"},[t._v("手续费："+t._s(t.ServiceCharge))]),t._v(" "),a("div",{staticClass:"item"},[t._v("到账数额："),a("span",[t._v(t._s(t.real_withdraw))])])]),t._v(" "),a("box",{attrs:{gap:"2.1875rem 1.75rem 1.375rem"}},[a("x-button",{staticClass:"pup-btn",staticStyle:{"border-radius":"99px"},attrs:{type:"primary",link:"/user/withdrawlist"}},[t._v("去查看进度")])],1)],1)])])},staticRenderFns:[]};var n=function(t){a("M7Ky")},r=a("C7Lr")(s.a,e,!1,n,null,null);i.default=r.exports}});