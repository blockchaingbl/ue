webpackJsonp([61],{Kf3z:function(e,t,a){var n={"./views/user/selfbcty":"rVlU"};function i(e){return a(o(e))}function o(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="Kf3z"},MJ8U:function(e,t){},rVlU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Kw0a"),i=a("8Dyd"),o=a("QOpP"),s=a("xSLg"),l=(n.a,i.a,o.default,{components:{PopupPicker:n.a,Scroller:i.a,Nodata:o.default},data:function(){return{list1:[{name:"收入",value:"income",parent:0},{name:"支出",value:"expend",parent:0},{name:"冻结",value:"freeze",parent:0},{name:"全部",value:"",parent:"income"},{name:"挖矿",value:"mine",parent:"income"},{name:"转入",value:"trans_order",parent:"income"},{name:"受让",value:"purchase",parent:"income"},{name:"划拨",value:"allot",parent:"income"},{name:"偷取",value:"steal",parent:"income"},{name:"兑换",value:"incharge",parent:"income"},{name:"全部",value:"",parent:"expend"},{name:"上链",value:"withdraw",parent:"expend"},{name:"出让",value:"sale",parent:"expend"},{name:"兑换",value:"exchange",parent:"expend"},{name:"全部",value:"",parent:"freeze"},{name:"挂卖",value:"sale",parent:"freeze"},{name:"上链",value:"withdraw",parent:"freeze"},{name:"平台",value:"manual",parent:"freeze"},{name:"糖果",value:"sugar",parent:"income"},{name:"发糖果",value:"sugar",parent:"expend"},{name:"糖果",value:"sugar",parent:"freeze"},{name:"释放",value:"free",parent:0},{name:"全部",value:"",parent:"free"},{name:"锁仓资产",value:"lock_transfer",parent:"income"},{name:"锁仓转出",value:"lock_transfer",parent:"expend"},{name:"锁仓资产",value:"lock_transfer",parent:"freeze"},{name:"锁仓资产",value:"lock_transfer",parent:"free"},{name:"糖果",value:"sugar",parent:"free"},{name:"转出",value:"trans_order",parent:"expend"}],list2:[["全部","上链","售出","发送"]],value1:["income",""],list:[],loading:!1,page:2,vc_total:"",vc_amount:"",vc_freeze:"",coin_type:{}}},created:function(){var e=Object(s.c)("setCoinInfo");this.$store.dispatch("setCoinInfo",JSON.parse(e)),this.moneyInfo=this.$store.state.coin_info,this.moneyInfo?this.coin_type=this.moneyInfo.coin_type:this.coin_type={id:0,coin_unit:this.$store.state.init.coin_uint}},mounted:function(){this.getIncome(),0==this.coin_type.id?this.getInfo():(this.vc_total=this.moneyInfo.vc_total,this.vc_freeze=this.moneyInfo.vc_freeze,this.vc_amount=(parseFloat(this.moneyInfo.vc_total)+parseFloat(this.moneyInfo.vc_freeze)).toFixed(5))},methods:{onShow:function(){},onHide:function(e){},onChange:function(e){},changelist1:function(e){this.loading=!1,this.page=2,this.getIncome()},getIncome:function(){var e=this;this.$http.post("/api/app.user/account/"+this.value1[0],{type:this.value1[1],page:1,coin_type:this.coin_type.id}).then(function(t){"income"==e.value1[0]?(e.list=t.data.income_log,t.data.income_log.length<10&&(e.loading=!1,e.page=null)):"expend"==e.value1[0]?(e.list=t.data.expend_log,t.data.expend_log.length<10&&(e.loading=!1,e.page=null)):"freeze"==e.value1[0]?(e.list=t.data.freeze_log,t.data.freeze_log.length<10&&(e.loading=!1,e.page=null)):"free"==e.value1[0]&&(e.list=t.data.free_log,t.data.free_log.length<10&&(e.loading=!1,e.page=null))}).catch(function(t){t.errcode&&e.$vux.toast.text(t.message)})},loadlist:function(){var e=this;this.loading||(null!=this.page?(this.loading=!0,this.$http.post("/api/app.user/account/"+this.value1[0],{type:this.value1[1],page:this.page,coin_type:this.coin_type.id}).then(function(t){"income"==e.value1[0]?t.data.income_log.length<1?(e.page=null,e.loading=!1):(e.list=e.list.concat_unk(t.data.income_log,"id"),e.page++,e.loading=!1):"expend"==e.value1[0]?t.data.expend_log.length<1?(e.page=null,e.loading=!1):(e.list=e.list.concat_unk(t.data.expend_log,"id"),e.page++,e.loading=!1):"freeze"==e.value1[0]?t.data.freeze_log.length<1?(e.page=null,e.loading=!1):(e.list=e.list.concat_unk(t.data.freeze_log,"id"),e.page++,e.loading=!1):"free"==e.value1[0]&&(t.data.free_log.length<1?(e.page=null,e.loading=!1):(e.list=e.list.concat_unk(t.data.free_log,"id"),e.page++,e.loading=!1))}).catch(function(t){t.errcode&&e.$vux.toast.text(t.message)})):this.loading=!1)},getInfo:function(){var e=this;this.$http.post("/api/app.user/account/info",{}).then(function(t){e.vc_amount=t.data.account_info.vc_amount,e.vc_total=t.data.account_info.vc_total,e.vc_freeze=t.data.account_info.vc_freeze}).catch(function(t){t.errcode&&e.$vux.toast.text(t.message)})},toWithdraw:function(){this.$store.state.coin_info&&0!=this.$store.state.coin_info.coin_type.id?1==this.$store.state.coin_info.coin_type.withdraw_open?this.$router.push({path:"/user/withdrawlist"}):this.$vux.toast.text("上链暂未开放"):1==this.$store.state.init.withdraw_open?this.$router.push({path:"/user/withdrawlist"}):this.$vux.toast.text("上链暂未开放")}}}),c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selfbcty"},[a("div",{staticClass:"content"},[a("div",{staticClass:"bctydetail"},[a("div",{staticClass:"bcty-title"},[e._v("我的"+e._s(e.coin_type.coin_unit)+"总额:"+e._s(e.vc_amount))]),e._v(" "),a("div",{staticClass:"flex-box"},[a("div",{staticClass:"detail-item flex-1"},[a("div",{staticClass:"as"},[e._v("可流通")]),e._v(" "),a("span",[e._v(e._s(e.vc_total))])]),e._v(" "),a("div",{staticClass:"detail-item flex-1 dj"},[a("div",{staticClass:"as"},[e._v("冻结")]),e._v(" "),a("span",[e._v(e._s(e.vc_freeze))])])])]),e._v(" "),a("div",{staticClass:"bcty-tab flex-box vux-1px-t"},[a("popup-picker",{staticClass:"opnone",attrs:{columns:2,data:e.list1},on:{"on-change":e.changelist1},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),e._v(" "),a("popup-picker",{attrs:{data:e.list1,columns:2,"show-name":""},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("div",{staticClass:"bcty-block"},e._l(e.list,function(t,n){return a("div",{staticClass:"bcty-item flex-box vux-1px-b"},[a("div",{staticClass:"item-icon iconfont wakuang"}),e._v(" "),a("div",{staticClass:"item-text flex-1"},[a("div",{staticClass:"item-title flex-box"},[a("div",{staticClass:"title-text flex-1"},[e._v(e._s(t.detail))]),e._v(" "),a("div",{staticClass:"item-numb"},[a("span",["income"==e.value1[0]?a("em",[e._v("+")]):e._e(),"expend"==e.value1[0]?a("em",[e._v("-")]):e._e(),e._v(e._s(t.vc_amount))]),e._v(" "+e._s(e.coin_type.coin_unit)+"\n                        ")])]),e._v(" "),a("div",{staticClass:"item-time"},[e._v(e._s(t.create_time||t.freeze_time))])])])})),e._v(" "),e.list.length>0?a("Scroller",{attrs:{loading:e.loading,container:".bcty-block"},on:{load:e.loadlist}}):a("nodata",{attrs:{datatip:"暂无数据"}})],1),e._v(" "),a("div",{staticClass:"selfbcty-bottom"},[a("box",{staticClass:"selfbcty-btn-box flex-box",attrs:{gap:"0"}},[0==e.$store.state.coin_info.coin_type.id||e.$store.state.coin_info.coin_type.incharge_open?a("x-button",{staticStyle:{"border-radius":"99px"},attrs:{type:"primary",link:"/incharge"}},[e._v("兑换")]):e._e(),e._v(" "),a("x-button",{staticStyle:{"border-radius":"99px",background:"#fc8c92",margin:"0 0.625rem"},attrs:{type:"primary"},nativeOn:{click:function(t){e.toWithdraw()}}},[e._v("上链")])],1)],1)])},staticRenderFns:[]};var r=a("C7Lr")(l,c,!1,function(e){a("MJ8U")},null,null);t.default=r.exports}});